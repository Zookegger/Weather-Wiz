name: Deploy to Render

on:
	push:
		branches: [enhanced-main]

jobs:
	build-and-deploy:
		runs-on: ubuntu-latest

		steps:
			- uses: actions/checkout@v3

			- name: Install Dependencies
				run: npm ci

			- name: Lint Code
				run: npm run lint

			- name: Run Tests
				run: npm test

			- name: Deploy to Render
				run: curl -X POST ${{ secrets.RENDER_DEPLOY_HOOK }}